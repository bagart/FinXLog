#!/usr/bin/php
<?php
require_once __DIR__ . '/../../vendor/autoload.php';
$client = (new \FinXLog\Module\ClientQueue\SearchQuotation);

$client->addWsMessage(['type' => 'test']);
$client->addWsMessage(['type' => 'test']);
$client->addWsMessage(['type' => 'test']);
$client->addWsMessage(['type' => 'test']);

$client->addWsMessage('
         {"type":"send","quotation":"_ALL","agg_period":null,"quotations":[{"S":"BTCUSD","T":"2016\/06\/11 04:05:51","B":568.151},{"S":"BTCUSD","T":"2016\/06\/11 04:05:51","B":568.151},{"S":"BTCUSD","T":"2016\/06\/11 04:05:51","B":568.151},{"S":"BTCUSD","T":"2016\/06\/09 04:05:51","B":2.151},{"S":"TST","T":"2016\/06\/02 04:05:51","B":4},{"S":"BTCUSD","T":"2016\/06\/06 01:05:51","B":1.5},{"S":"BTCUSD","T":"2016\/06\/11 11:00:00","B":99},{"S":"BTCUSD","T":"2016\/06\/11 00:00:01","B":1},{"S":"BTCUSD","T":"2016\/06\/11 03:53:42","B":567.5},{"S":"TST","T":"2016\/06\/01 04:05:51","B":3.1},{"S":"BTCUSD","T":"2016\/06\/06 01:00:51","B":2},{"S":"BTCUSD","T":"2017\/06\/11 12:00:00","B":1},{"S":"BTCUSD","T":"2017\/06\/11 11:00:00","B":99},{"S":"BTCUSD","T":"2016\/06\/11 12:00:01","B":1},{"S":"BTCUSD","T":"2016\/06\/11 04:05:51","B":568.151},{"S":"BTCUSD","T":"2016\/06\/10 04:05:51","B":1.151},{"S":"BTCUSD","T":"2015\/06\/07 04:05:51","B":2},{"S":"BTCUSD","T":"2016\/06\/11 04:05:51","B":568.151},{"S":"BTCUSD","T":"2016\/06\/07 03:05:51","B":3.5},{"S":"TST2","T":"2016\/06\/06 04:05:51","B":5},{"S":"TST2","T":"2016\/06\/07 04:05:51","B":6},{"S":"BTCUSD","T":"2016\/06\/11 23:00:00","B":99},{"S":"BTCUSD","T":"2016\/06\/11 23:00:00","B":999},{"S":"BTCUSD","T":"2016\/06\/11 04:05:51","B":568.151},{"S":"BTCUSD","T":"2016\/06\/11 04:05:51","B":568.151},{"S":"BTCUSD","T":"2016\/06\/08 04:05:51","B":3.1},{"S":"BTCUSD","T":"2017\/06\/07 04:05:51","B":1},{"S":"BTCUSD","T":"2016\/06\/11 12:00:00","B":1},{"S":"BTCUSD","T":"2016\/06\/11 00:00:01","B":10}]}
    ');